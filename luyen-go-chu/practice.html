<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trình Luyện Gõ Phím</title>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body class="flex items-center justify-center min-h-screen">

    <div id="loading-state" class="fixed top-0 left-0 w-full h-full bg-white z-50 flex-col items-center justify-center" style="display: none;">
        <div class="loader"></div>
        <p id="loading-message" class="mt-4 text-lg text-gray-600">Đang tải dữ liệu...</p>
    </div>

    <main id="app-container" class="app-wrapper">
        <header class="app-header">
            <h1 id="lesson-title" class="lesson-title">Trình Luyện Gõ Phím</h1>
            <a href="index.html" class="link-back">
                <i class="fas fa-list-ul"></i>&nbsp;Chọn bài học khác
            </a>
        </header>

        <div id="lesson-selector-container" class="lesson-selector"></div>

        <div class="stats-grid">
            <div class="stat-card"><p class="stat-label">Tốc độ (WPM)</p><p id="wpm" class="stat-value">0</p></div>
            <div class="stat-card"><p class="stat-label">Chính xác</p><p id="accuracy" class="stat-value">100%</p></div>
            <div class="stat-card"><p class="stat-label">Thời gian</p><p id="timer" class="stat-value">0:00</p></div>
        </div>

        <div class="typing-area-wrapper">
            <div id="text-to-type" class="text-to-type"></div>
            <input type="text" id="typing-input" class="typing-input" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
        </div>
        
        <div class="controls-area">
            <p id="save-status"></p>
            <div>
                <button id="reset-btn" class="btn btn-secondary"><i class="fas fa-sync-alt"></i>&nbsp;Làm lại</button>
                <button id="save-btn" class="btn btn-primary" disabled><i class="fas fa-save"></i>&nbsp;Lưu kết quả</button>
            </div>
        </div>

        <div id="virtual-keyboard-container" class="keyboard-wrapper">
            <div class="hands-container">
                <svg id="hands-svg" viewBox="0 0 1000 300" class="hands-svg">
                    <g id="left-hand"><path id="finger-left-pinky" class="finger" d="M220,280 C200,200 200,120 220,80 S240,40 250,80 S270,200 250,280 Z" /><path id="finger-left-ring" class="finger" d="M280,280 C260,180 260,100 280,60 S300,20 310,60 S330,180 310,280 Z" /><path id="finger-left-middle" class="finger" d="M340,280 C320,160 320,80 340,40 S360,0 370,40 S390,160 370,280 Z" /><path id="finger-left-index" class="finger" d="M400,280 C380,180 380,100 400,60 S420,20 430,60 S450,180 430,280 Z" /><path id="finger-left-thumb" class="finger" d="M430,280 C460,260 490,240 500,200 S490,150 460,180 S430,220 430,280 Z" /></g>
                    <g id="right-hand"><path id="finger-right-pinky" class="finger" d="M780,280 C800,200 800,120 780,80 S760,40 750,80 S730,200 750,280 Z" /><path id="finger-right-ring" class="finger" d="M720,280 C740,180 740,100 720,60 S700,20 690,60 S670,180 690,280 Z" /><path id="finger-right-middle" class="finger" d="M660,280 C680,160 680,80 660,40 S640,0 630,40 S610,160 630,280 Z" /><path id="finger-right-index" class="finger" d="M600,280 C620,180 620,100 600,60 S580,20 570,60 S550,180 570,280 Z" /><path id="finger-right-thumb" class="finger" d="M570,280 C540,260 510,240 500,200 S510,150 540,180 S570,220 570,280 Z" /></g>
                </svg>
            </div>
            <div id="keyboard" class="keyboard">
                <div class="keyboard-row"><div class="key" data-key="Backquote">`</div><div class="key" data-key="Digit1">1</div><div class="key" data-key="Digit2">2</div><div class="key" data-key="Digit3">3</div><div class="key" data-key="Digit4">4</div><div class="key" data-key="Digit5">5</div><div class="key" data-key="Digit6">6</div><div class="key" data-key="Digit7">7</div><div class="key" data-key="Digit8">8</div><div class="key" data-key="Digit9">9</div><div class="key" data-key="Digit0">0</div><div class="key" data-key="Minus">-</div><div class="key" data-key="Equal">=</div><div class="key key-long" data-key="Backspace">Backspace</div></div>
                <div class="keyboard-row"><div class="key key-med" data-key="Tab">Tab</div><div class="key" data-key="KeyQ">Q</div><div class="key" data-key="KeyW">W</div><div class="key" data-key="KeyE">E</div><div class="key" data-key="KeyR">R</div><div class="key" data-key="KeyT">T</div><div class="key" data-key="KeyY">Y</div><div class="key" data-key="KeyU">U</div><div class="key" data-key="KeyI">I</div><div class="key" data-key="KeyO">O</div><div class="key" data-key="KeyP">P</div><div class="key" data-key="BracketLeft">[</div><div class="key" data-key="BracketRight">]</div><div class="key key-med" data-key="Backslash">\</div></div>
                <div class="keyboard-row"><div class="key key-long" data-key="CapsLock">Caps Lock</div><div class="key" data-key="KeyA">A</div><div class="key" data-key="KeyS">S</div><div class="key" data-key="KeyD">D</div><div class="key" data-key="KeyF">F</div><div class="key" data-key="KeyG">G</div><div class="key" data-key="KeyH">H</div><div class="key" data-key="KeyJ">J</div><div class="key" data-key="KeyK">K</div><div class="key" data-key="KeyL">L</div><div class="key" data-key="Semicolon">;</div><div class="key" data-key="Quote">'</div><div class="key key-long" data-key="Enter">Enter</div></div>
                <div class="keyboard-row"><div class="key key-longest" data-key="ShiftLeft">Shift</div><div class="key" data-key="KeyZ">Z</div><div class="key" data-key="KeyX">X</div><div class="key" data-key="KeyC">C</div><div class="key" data-key="KeyV">V</div><div class="key" data-key="KeyB">B</div><div class="key" data-key="KeyN">N</div><div class="key" data-key="KeyM">M</div><div class="key" data-key="Comma">,</div><div class="key" data-key="Period">.</div><div class="key" data-key="Slash">/</div><div class="key key-longest" data-key="ShiftRight">Shift</div></div>
                <div class="keyboard-row"><div class="key" data-key="ControlLeft">Ctrl</div><div class="key" data-key="MetaLeft">Win</div><div class="key" data-key="AltLeft">Alt</div><div class="key key-space" data-key="Space"></div><div class="key" data-key="AltRight">Alt</div><div class="key" data-key="ContextMenu">Menu</div><div class="key" data-key="ControlRight">Ctrl</div></div>
            </div>
        </div>
    </main>

    <dialog id="name-modal" class="modal">
        <h2 class="modal-title">Chào mừng bạn!</h2>
        <p class="modal-text">Vui lòng nhập tên của bạn để bắt đầu.</p>
        <form id="name-form">
            <input type="text" id="student-name-input" placeholder="Nhập tên của bạn..." class="modal-input" required>
            <button type="submit" class="btn btn-primary modal-btn">Bắt đầu</button>
        </form>
    </dialog>

    <script src="practice.js"></script>
</body>
</html>